<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype Jual Pulsa & Data - Dev Version</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        body {
            background-color: #0f172a;
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            min-height: 100vh;
            color: white;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .hidden-element { display: none; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-pop { animation: slideUp 0.4s ease-out; }
        #welcomeOverlay {
            position: fixed; inset: 0; z-index: 100;
            background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(20px);
            display: flex; align-items: center; justify-content: center;
            transition: opacity 0.8s ease;
        }
    </style>
</head>
<body class="font-sans antialiased" onload="renderHistory()">

    <div id="welcomeOverlay">
        <div class="text-center p-8 max-w-lg">
            <div class="w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-2xl rotate-12">
                <i class="fa-solid fa-bolt-lightning text-3xl text-white"></i>
            </div>
            <h2 class="text-3xl font-bold mb-4">Halo, Selamat Datang!</h2>
            <p class="text-gray-400 mb-8">Eksplorasi antarmuka pengisian pulsa masa depan dalam versi <span class="text-blue-400 font-bold text-xs border border-blue-400 px-2 py-1 rounded ml-1">PROTOTYPE</span></p>
            <button onclick="closeWelcome()" class="bg-blue-600 text-white px-12 py-3 rounded-full font-bold shadow-lg hover:bg-blue-500 transition-all active:scale-95 uppercase text-xs tracking-widest">
                Masuk Dashboard
            </button>
        </div>
    </div>

    <nav class="sticky top-0 z-40 border-b border-white/10 glass">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold tracking-tighter uppercase">
                <i class="fa-solid fa-flask text-indigo-400 mr-2"></i>Proto<span class="text-blue-400">Pulsa</span>
            </h1>
            <button onclick="toggleLogin()" class="bg-white/10 text-white px-6 py-2 rounded-full text-xs font-bold transition border border-white/20 hover:bg-white/20 uppercase tracking-widest">Login</button>
        </div>
    </nav>

    <main class="container mx-auto px-6 py-12 flex flex-col lg:flex-row gap-12">
        
        <div class="lg:w-1/2 w-full">
            <div class="glass p-8 rounded-[2.5rem] border border-white/20">
                <h3 class="text-lg font-bold mb-6 text-gray-300 uppercase tracking-widest text-center">Form Transaksi</h3>
                
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <label class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Nomor Tujuan</label>
                        <span id="providerIcon" class="text-[9px] font-bold text-blue-400 opacity-0 bg-blue-500/10 px-2 py-0.5 rounded italic">Detecting</span>
                    </div>
                    <input type="number" id="phoneInput" placeholder="08xxxxxxxxxx" class="w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 focus:ring-2 focus:ring-blue-500 outline-none text-white text-xl">
                </div>

                <div class="grid grid-cols-2 gap-3 mb-8">
                    <div onclick="selectItem(this, '10.000', '10.150')" class="item-select glass p-4 rounded-2xl cursor-pointer border border-white/5 hover:border-blue-500/40 transition-all text-center">
                        <p class="font-bold text-lg">10.000</p>
                        <p class="text-blue-400 text-xs font-bold">Rp 10.150</p>
                    </div>
                    <div onclick="selectItem(this, '50.000', '49.500')" class="item-select glass p-4 rounded-2xl cursor-pointer border border-white/5 hover:border-blue-500/40 transition-all text-center">
                        <p class="font-bold text-lg">50.000</p>
                        <p class="text-blue-400 text-xs font-bold">Rp 49.500</p>
                    </div>
                </div>

                <button onclick="processOrder()" class="w-full bg-blue-600 text-white font-bold py-5 rounded-2xl shadow-xl hover:bg-blue-500 transition-all active:scale-95 uppercase text-xs tracking-widest">Konfirmasi Transaksi</button>
            </div>
        </div>

        <div class="lg:w-1/2 w-full">
            <div class="glass p-8 rounded-[2.5rem] border border-white/20 min-h-[400px]">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-lg font-bold text-gray-300 uppercase tracking-widest">Riwayat Simulasi</h3>
                    <button onclick="clearHistory()" class="text-[9px] text-red-400 font-bold uppercase border border-red-400/30 px-3 py-1 rounded-full">Reset</button>
                </div>
                <div id="historyContainer" class="space-y-4 max-h-[400px] overflow-y-auto no-scrollbar"></div>
            </div>
        </div>
    </main>

    <div id="loginModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md hidden-element">
        <div class="glass w-full max-w-sm p-10 rounded-[3rem] relative border border-white/10 animate-pop">
            <button onclick="toggleLogin()" class="absolute top-8 right-8 text-gray-500 hover:text-white transition text-2xl">&times;</button>
            
            <div class="text-center mb-10">
                <h3 class="text-2xl font-bold mb-2">Masuk Akun</h3>
                <p class="text-gray-500 text-xs">Akses semua fitur prototype kami</p>
            </div>

            <div class="space-y-3 mb-8">
                <button class="w-full flex items-center justify-center gap-3 bg-white/5 border border-white/10 py-3 rounded-xl hover:bg-white/10 transition">
                    <img src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png" class="w-5 h-5" alt="Google">
                    <span class="text-xs font-bold tracking-widest uppercase">Login with Google</span>
                </button>
                <button class="w-full flex items-center justify-center gap-3 bg-[#1877F2]/20 border border-[#1877F2]/30 py-3 rounded-xl hover:bg-[#1877F2]/30 transition">
                    <i class="fa-brands fa-facebook text-[#1877F2] text-lg"></i>
                    <span class="text-xs font-bold tracking-widest uppercase">Facebook Login</span>
                </button>
                <button class="w-full flex items-center justify-center gap-3 bg-white/90 border border-white/10 py-3 rounded-xl hover:bg-white transition text-black">
                    <i class="fa-brands fa-apple text-xl"></i>
                    <span class="text-xs font-bold tracking-widest uppercase">Apple ID</span>
                </button>
            </div>

            <div class="relative flex py-5 items-center">
                <div class="flex-grow border-t border-white/10"></div>
                <span class="flex-shrink mx-4 text-gray-500 text-[10px] uppercase font-bold tracking-widest">Atau via Email</span>
                <div class="flex-grow border-t border-white/10"></div>
            </div>

            <div class="space-y-4 mb-4">
                <input type="email" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-xs outline-none focus:border-blue-500 transition" placeholder="Email Demo">
                <button onclick="toggleLogin()" class="w-full bg-blue-600 py-4 rounded-xl font-bold uppercase text-[10px] tracking-widest">Lanjutkan</button>
            </div>
        </div>
    </div>

    <script>
        function closeWelcome() {
            document.getElementById('welcomeOverlay').style.opacity = '0';
            setTimeout(() => document.getElementById('welcomeOverlay').classList.add('hidden-element'), 800);
        }

        function toggleLogin() {
            document.getElementById('loginModal').classList.toggle('hidden-element');
        }

        function selectItem(el, nominal, price) {
            document.querySelectorAll('.item-select').forEach(i => i.classList.remove('border-blue-500', 'bg-blue-600/10', 'ring-1', 'ring-blue-500'));
            el.classList.add('border-blue-500', 'bg-blue-600/10', 'ring-1', 'ring-blue-500');
            window.lastSelected = { nominal, price };
        }

        function processOrder() {
            const phone = document.getElementById('phoneInput').value;
            if(!phone || !window.lastSelected) return alert("Nomor HP dan Nominal harus diisi!");

            const trx = {
                id: 'INV-' + Date.now().toString().slice(-6),
                phone, ...window.lastSelected,
                date: new Date().toLocaleTimeString(),
                status: 'SUKSES'
            };

            let history = JSON.parse(localStorage.getItem('proto_trx')) || [];
            history.unshift(trx);
            localStorage.setItem('proto_trx', JSON.stringify(history));
            renderHistory();
            alert("Simulasi Transaksi Berhasil!");
        }

        function renderHistory() {
            const container = document.getElementById('historyContainer');
            const history = JSON.parse(localStorage.getItem('proto_trx')) || [];
            if(history.length === 0) return container.innerHTML = '<div class="text-center py-20 text-gray-600 text-xs">BELUM ADA DATA</div>';
            
            container.innerHTML = history.map(t => `
                <div class="glass p-5 rounded-2xl border-white/5">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-[9px] font-bold text-blue-400 tracking-widest uppercase">${t.id}</span>
                        <span class="text-[8px] bg-green-500/20 text-green-400 px-2 py-0.5 rounded font-bold">${t.status}</span>
                    </div>
                    <p class="font-bold text-lg mb-1">Pulsa ${t.nominal}</p>
                    <div class="flex justify-between items-end">
                        <p class="text-[10px] text-gray-500">${t.phone} â€¢ ${t.date}</p>
                        <p class="text-xs font-bold text-white">Rp ${t.price}</p>
                    </div>
                </div>
            `).join('');
        }

        function clearHistory() {
            if(confirm("Hapus history simulasi?")) {
                localStorage.removeItem('proto_trx');
                renderHistory();
            }
        }

        document.getElementById('phoneInput').addEventListener('input', function(e) {
            const val = e.target.value;
            const icon = document.getElementById('providerIcon');
            icon.style.opacity = val.length >= 4 ? "1" : "0";
            if(val.startsWith('081')) icon.innerText = "TELKOMSEL";
            else if(val.startsWith('085')) icon.innerText = "INDOSAT";
            else icon.innerText = "SIMULASI";
        });
    </script>
</body>
</html>
